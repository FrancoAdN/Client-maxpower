{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Client-maxpower\\\\page\\\\src\\\\components\\\\Chat\\\\Chat.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport './Chat.css';\nimport { SockContext } from '../../_useChat';\nexport default function Chat() {\n  const [text, setText] = useState('');\n  const {\n    messages,\n    sendMessage,\n    connectClient,\n    connected,\n    server\n  } = useContext(SockContext);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"chat\",\n    style: {\n      width: '350px',\n      height: '460px',\n      borderRadius: '10px',\n      background: '#e2130b',\n      border: '1px solid #e2130b',\n      display: 'block'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100\",\n    style: {\n      height: '30px',\n      color: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 29\n    }\n  }, \"Maxpower chat\"))), /*#__PURE__*/React.createElement(ChatBody, {\n    con: connected,\n    conFun: connectClient,\n    messages: messages,\n    server: server,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 d-flex justify-content-around\",\n    style: {\n      height: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"in-msg d-flex justify-content-around\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: text,\n    onChange: e => setText(e.target.value),\n    onKeyDown: e => {\n      if (e.key === \"Enter\") {\n        e.preventDefault();\n        sendMessage({\n          from: 1,\n          msg: text\n        });\n        setText('');\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn mx-auto my-auto\",\n    style: {\n      borderRadius: '30px',\n      background: '#ffffff'\n    },\n    onClick: e => {\n      e.preventDefault();\n      sendMessage({\n        from: 1,\n        msg: text\n      });\n      setText('');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://img.icons8.com/small/16/000000/filled-sent.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 29\n    }\n  }))))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"rounded-circle chat-btn\",\n    onClick: e => {\n      e.preventDefault();\n      const chat = document.getElementById('chat').style.display;\n      if (chat == 'block') document.getElementById('chat').style.display = 'none';else document.getElementById('chat').style.display = 'block';\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://img.icons8.com/wired/40/000000/chat.png\",\n    alt: \"...\",\n    style: {\n      margin: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  })));\n}\n\nfunction ChatMessage({\n  msg\n}) {\n  if (msg.from) {\n    // Message from client\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline float-right\",\n      style: {\n        background: '#e2130b',\n        padding: '10px',\n        paddingLeft: '20px',\n        paddingRight: '20px',\n        borderRadius: '30px',\n        maxWidth: '70%',\n        color: '#fff'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, msg.msg));\n  } // Message from server\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mw-75\",\n    style: {\n      margin: '15px',\n      maxWidth: '70%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mw-75\",\n    style: {\n      background: '#e3e3e3',\n      padding: '10px',\n      paddingLeft: '20px',\n      paddingRight: '20px',\n      borderRadius: '30px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, msg.msg));\n}\n\nfunction PreConnectForm({\n  connect\n}) {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [emp, setEmp] = useState('');\n  const [tel, setTel] = useState('');\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"d-flex flex-column my-auto\",\n    style: {\n      marginTop: '50px',\n      width: '350px',\n      height: '380px',\n      background: '#e3e3e3'\n    },\n    onSubmit: e => {\n      e.preventDefault();\n      const client = {\n        name,\n        email,\n        tel,\n        emp\n      };\n      connect(client);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: name,\n    placeholder: \"Nombre:\",\n    required: true,\n    style: {\n      margin: '15px'\n    },\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    value: email,\n    placeholder: \"Email:\",\n    required: true,\n    style: {\n      margin: '15px'\n    },\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: emp,\n    placeholder: \"Empresa:\",\n    required: true,\n    style: {\n      margin: '15px'\n    },\n    onChange: e => setEmp(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"tel\",\n    value: tel,\n    placeholder: \"Tel\\xE9fono:\",\n    pattern: \"[0-9]{3} [0-9]{4} [0-9]{4}\",\n    required: true,\n    style: {\n      margin: '15px'\n    },\n    onChange: e => setTel(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn send-button\",\n    style: {\n      width: '150px',\n      background: '#e2130b',\n      color: '#ffffff',\n      marginTop: '15px',\n      marginBottom: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, \"Conectarme\")));\n}\n\nfunction ChatBody({\n  con,\n  conFun,\n  messages,\n  server\n}) {\n  if (con && server) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 content d-flex flex-column overflow-auto\",\n      style: {\n        height: '380px',\n        background: '#fff'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, messages.map((msg, i) => /*#__PURE__*/React.createElement(ChatMessage, {\n      key: i,\n      msg: msg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    })));\n  } else if (con && !server) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 content d-flex flex-column overflow-auto\",\n      style: {\n        height: '380px',\n        background: '#fff'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, \"Lo siento, no hay nadie para contestar en este momento.\"));\n  }\n\n  return /*#__PURE__*/React.createElement(PreConnectForm, {\n    connect: conFun,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  });\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/Client-maxpower/page/src/components/Chat/Chat.js"],"names":["React","useState","useContext","useEffect","SockContext","Chat","text","setText","messages","sendMessage","connectClient","connected","server","width","height","borderRadius","background","border","display","color","e","target","value","key","preventDefault","from","msg","chat","document","getElementById","style","margin","ChatMessage","padding","paddingLeft","paddingRight","maxWidth","PreConnectForm","connect","name","setName","email","setEmail","emp","setEmp","tel","setTel","marginTop","client","marginBottom","ChatBody","con","conFun","map","i"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport './Chat.css'\r\nimport { SockContext } from '../../_useChat'\r\n\r\nexport default function Chat() {\r\n    const [text, setText] = useState('')\r\n    const { messages, sendMessage, connectClient, connected, server } = useContext(SockContext)\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div id='chat' style={{ width: '350px', height: '460px', borderRadius: '10px', background: '#e2130b', border: '1px solid #e2130b', display: 'block' }}>\r\n                <div className=\"w-100\" style={{ height: '30px', color: '#fff' }}>\r\n                    <center><h5>Maxpower chat</h5></center>\r\n                </div>\r\n                <ChatBody con={connected} conFun={connectClient} messages={messages} server={server} />\r\n\r\n                <div className=\"w-100 d-flex justify-content-around\" style={{ height: '50px' }}>\r\n                    <div className=\"in-msg d-flex justify-content-around\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={text}\r\n                            onChange={e => setText(e.target.value)}\r\n                            onKeyDown={e => {\r\n                                if (e.key === \"Enter\") {\r\n                                    e.preventDefault()\r\n                                    sendMessage({ from: 1, msg: text })\r\n                                    setText('')\r\n                                }\r\n                            }}\r\n                        />\r\n                        <button type=\"button\"\r\n                            className=\"btn mx-auto my-auto\"\r\n                            style={{ borderRadius: '30px', background: '#ffffff' }}\r\n                            onClick={e => {\r\n                                e.preventDefault()\r\n                                sendMessage({ from: 1, msg: text })\r\n                                setText('')\r\n                            }}\r\n                        >\r\n                            <img src=\"https://img.icons8.com/small/16/000000/filled-sent.png\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button className=\"rounded-circle chat-btn\" onClick={e => {\r\n                e.preventDefault()\r\n                const chat = document.getElementById('chat').style.display\r\n                if (chat == 'block')\r\n                    document.getElementById('chat').style.display = 'none'\r\n                else\r\n                    document.getElementById('chat').style.display = 'block'\r\n            }}>\r\n                <img src=\"https://img.icons8.com/wired/40/000000/chat.png\" alt=\"...\" style={{ margin: '5px' }} />\r\n            </button>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nfunction ChatMessage({ msg }) {\r\n    if (msg.from) {\r\n        // Message from client\r\n        return (<div style={{ margin: '10px' }}>\r\n            <span className=\"d-inline float-right\" style={{ background: '#e2130b', padding: '10px', paddingLeft: '20px', paddingRight: '20px', borderRadius: '30px', maxWidth: '70%', color: '#fff' }}>{msg.msg}</span>\r\n        </div>)\r\n    }\r\n    // Message from server\r\n    return (<div className=\"mw-75\" style={{ margin: '15px', maxWidth: '70%' }}>\r\n        <span className=\"mw-75\" style={{ background: '#e3e3e3', padding: '10px', paddingLeft: '20px', paddingRight: '20px', borderRadius: '30px' }}>\r\n            {msg.msg}\r\n        </span>\r\n    </div >)\r\n\r\n}\r\n\r\nfunction PreConnectForm({ connect }) {\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [emp, setEmp] = useState('')\r\n    const [tel, setTel] = useState('')\r\n    return (\r\n        <form\r\n            className=\"d-flex flex-column my-auto\"\r\n            style={{\r\n                marginTop: '50px',\r\n                width: '350px',\r\n                height: '380px',\r\n                background: '#e3e3e3'\r\n            }}\r\n\r\n            onSubmit={\r\n                e => {\r\n                    e.preventDefault()\r\n                    const client = { name, email, tel, emp }\r\n                    connect(client)\r\n                }\r\n            }\r\n        >\r\n            <input type=\"text\" value={name} placeholder=\"Nombre:\" required style={{ margin: '15px' }} onChange={e => setName(e.target.value)} />\r\n            <input type=\"email\" value={email} placeholder=\"Email:\" required style={{ margin: '15px' }} onChange={e => setEmail(e.target.value)} />\r\n            <input type=\"text\" value={emp} placeholder=\"Empresa:\" required style={{ margin: '15px' }} onChange={e => setEmp(e.target.value)} />\r\n            <input type=\"tel\" value={tel} placeholder=\"Teléfono:\" pattern=\"[0-9]{3} [0-9]{4} [0-9]{4}\" required style={{ margin: '15px' }} onChange={e => setTel(e.target.value)} />\r\n            <center><button\r\n                type=\"submit\"\r\n                className=\"btn send-button\"\r\n                style={{\r\n                    width: '150px',\r\n                    background: '#e2130b',\r\n                    color: '#ffffff',\r\n                    marginTop: '15px',\r\n                    marginBottom: '15px',\r\n                }}\r\n            >Conectarme</button></center>\r\n        </form>\r\n    )\r\n}\r\n\r\nfunction ChatBody({ con, conFun, messages, server }) {\r\n    if (con && server) {\r\n        return (\r\n            <div className=\"w-100 content d-flex flex-column overflow-auto\" style={{ height: '380px', background: '#fff' }}>\r\n                {\r\n                    messages.map((msg, i) => (\r\n                        <ChatMessage key={i} msg={msg} />\r\n                    ))\r\n                }\r\n            </div>\r\n        )\r\n    } else if (con && !server) {\r\n        return (\r\n            <div className=\"w-100 content d-flex flex-column overflow-auto\" style={{ height: '380px', background: '#fff' }}>\r\n                <h4>Lo siento, no hay nadie para contestar en este momento.</h4>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <PreConnectForm connect={conFun} />\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}